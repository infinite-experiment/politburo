# Development Dockerfile for Vizburo UI service with hot reload
FROM node:20-alpine

WORKDIR /app

# Install development dependencies
RUN apk add --no-cache git bash

# Copy vizburo UI files
COPY vizburo/ui/package.json vizburo/ui/tailwind.config.js vizburo/ui/input.css vizburo/ui/postcss.config.js vizburo/ui/

# Install npm dependencies (including Tailwind CSS)
RUN cd vizburo/ui && npm install

# Copy remaining files
COPY . .

# Expose port 3000 (Vizburo UI - not needed since we're running Tailwind in watch mode)
EXPOSE 3000

# Run Tailwind in watch mode for development
CMD ["npm", "run", "watch:css", "--prefix", "vizburo/ui"]
