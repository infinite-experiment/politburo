{{define "content"}}
<style>
  :root {
    --nord0: #2E3440;
    --nord3: #4C566A;
    --nord4: #D8DEE9;
    --nord5: #E5E9F0;
    --nord6: #ECEFF4;
    --nord8: #88C0D0;
  }

  #flight-map-metadata {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 100%;
    height: 100%;
    background-color: var(--nord0);
    padding: 2rem;
    overflow-y: auto;
  }

  #flight-map-metadata .metadata-card {
    background: rgba(59, 66, 82, 0.95);
    border: 1px solid var(--nord3);
    border-radius: 0.5rem;
    padding: 2rem;
    width: 100%;
    max-width: 550px;
    box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
  }

  #flight-map-metadata .card-header {
    font-size: 1.25rem;
    font-weight: 600;
    color: var(--nord8);
    margin-bottom: 1.5rem;
    text-align: center;
    border-bottom: 2px solid var(--nord3);
    padding-bottom: 1rem;
  }

  #flight-map-metadata .section {
    margin-bottom: 1.5rem;
  }

  #flight-map-metadata .section-title {
    font-size: 0.75rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    color: var(--nord5);
    margin-bottom: 0.75rem;
  }

  #flight-map-metadata .section-content {
    display: grid;
    gap: 0.5rem;
    color: var(--nord4);
    font-size: 0.875rem;
  }

  #flight-map-metadata .section-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 0.5rem 0;
  }

  #flight-map-metadata .section-label {
    color: var(--nord5);
    font-weight: 500;
  }

  #flight-map-metadata .section-value {
    color: var(--nord6);
    font-weight: 400;
  }

  #flight-map-metadata .section-divider {
    height: 1px;
    background-color: var(--nord3);
    margin: 1.25rem 0;
  }

  #flight-map-metadata .server-badge {
    display: inline-block;
    padding: 0.375rem 0.75rem;
    background-color: var(--nord3);
    color: var(--nord6);
    border-radius: 0.25rem;
    font-size: 0.75rem;
    font-weight: 500;
  }

  #flight-map-metadata .info-message {
    margin-top: 1.5rem;
    padding: 1rem;
    background-color: rgba(46, 52, 64, 0.5);
    border-left: 3px solid var(--nord8);
    border-radius: 0.25rem;
    font-size: 0.75rem;
    color: var(--nord5);
    display: flex;
    gap: 0.5rem;
  }

  #flight-map-metadata .info-icon {
    width: 1rem;
    height: 1rem;
    flex-shrink: 0;
    margin-top: 0.125rem;
  }

  #flight-map-metadata .xp-value {
    color: #EBCB8B;
    font-weight: 600;
  }

  #flight-map-metadata .night-time {
    color: #BF616A;
  }

  #flight-map-metadata .day-time {
    color: #A3BE8C;
  }
</style>

<div id="flight-map-metadata">
  <div class="metadata-card">
    <!-- Card Header -->
    <div class="card-header">
      {{.Meta.Origin}} â†’ {{.Meta.Dest}}
    </div>

    <!-- Flight Section -->
    <div class="section">
      <div class="section-title">Flight Information</div>
      <div class="section-content">
        <div class="section-item">
          <span class="section-label">Aircraft:</span>
          <span class="section-value">{{.Meta.Aircraft}}</span>
        </div>
        <div class="section-item">
          <span class="section-label">Livery:</span>
          <span class="section-value">{{.Meta.Livery}}</span>
        </div>
        <div class="section-item">
          <span class="section-label">Callsign:</span>
          <span class="section-value">{{.Meta.Callsign}}</span>
        </div>
        <div class="section-item">
          <span class="section-label">Date:</span>
          <span class="section-value">{{.Meta.TimeStamp.Format "Jan 02, 2006 15:04"}}</span>
        </div>
      </div>
    </div>

    <div class="section-divider"></div>

    <!-- Performance Section -->
    <div class="section">
      <div class="section-title">Performance</div>
      <div class="section-content">
        <div class="section-item">
          <span class="section-label">Duration:</span>
          <span class="section-value">{{.Meta.Duration}}</span>
        </div>
        <div class="section-item">
          <span class="section-label">Landings:</span>
          <span class="section-value">{{.Meta.Landings}}</span>
        </div>
        <div class="section-item">
          <span class="section-label">Violations:</span>
          <span class="section-value">{{.Meta.Violations}}</span>
        </div>
      </div>
    </div>

    <div class="section-divider"></div>

    <!-- Flight Time Section -->
    {{if or (ne .Meta.DayTime 0.0) (ne .Meta.NightTime 0.0)}}
    <div class="section">
      <div class="section-title">Flight Time</div>
      <div class="section-content">
        {{if ne .Meta.DayTime 0.0}}
        <div class="section-item">
          <span class="section-label">Day:</span>
          <span class="section-value day-time">{{printf "%.1f" .Meta.DayTime}} mins</span>
        </div>
        {{end}}
        {{if ne .Meta.NightTime 0.0}}
        <div class="section-item">
          <span class="section-label">Night:</span>
          <span class="section-value night-time">{{printf "%.1f" .Meta.NightTime}} mins</span>
        </div>
        {{end}}
      </div>
    </div>

    <div class="section-divider"></div>
    {{end}}

    <!-- Stats Section -->
    {{if gt .Meta.XP 0}}
    <div class="section">
      <div class="section-title">Stats</div>
      <div class="section-content">
        <div class="section-item">
          <span class="section-label">XP Earned:</span>
          <span class="section-value xp-value">+{{.Meta.XP}}</span>
        </div>
      </div>
    </div>

    <div class="section-divider"></div>
    {{end}}

    <!-- Server Section -->
    <div class="section">
      <div class="section-title">Server</div>
      <div class="section-content">
        <div class="section-item">
          <span class="section-label">Type:</span>
          <span class="server-badge">
            {{if eq .Meta.WorldType 1}}Casual{{else if eq .Meta.WorldType 2}}Training{{else if eq .Meta.WorldType 3}}Expert{{else}}Unknown{{end}}
          </span>
        </div>
      </div>
    </div>

    <!-- Info Message -->
    <div class="info-message">
      <svg class="info-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" d="m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853.75.75 0 0 1 .041 1.33l-.708 2.836a.75.75 0 0 0 1.063.853.75.75 0 0 1 1.33.041l2.836-.708a.75.75 0 0 0 .852 1.063.75.75 0 0 1 1.33.041l2.836-.708a.75.75 0 0 0 .853-1.063.75.75 0 0 1 .041-1.33l-2.836-.708a.75.75 0 0 0-.853-1.063.75.75 0 0 1-1.33-.041l-2.836.708a.75.75 0 0 0-.852-1.063.75.75 0 0 1-1.33-.041l-2.836.708a.75.75 0 0 0-.852-1.063z" />
      </svg>
      <span>Route data not cached (too old or not yet processed)</span>
    </div>
  </div>
</div>

{{end}}
